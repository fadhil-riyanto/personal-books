<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:og="http://ogp.me/ns#"
      xmlns:fb="https://www.facebook.com/2008/fbml">

<!-- Mirrored from eli.thegreenplace.net/2006/02/07/sloppy-code-sourceforge-cvs-memory-manager by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 17 Feb 2025 00:18:54 GMT -->
<head>
    <title>sloppy code, SourceForge CVS, memory manager - Eli Bendersky's website</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="../../../favicon.ico" rel="icon">

    <!-- Bootstrap -->
        <link rel="stylesheet" href="../../../theme/css/bootstrap.min.css" type="text/css"/>
    <link href="../../../theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="../../../theme/css/pygments/vs.css" rel="stylesheet">
    <link rel="stylesheet" href="../../../theme/css/style.css" type="text/css"/>

        <link href="../../../feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
              title="Eli Bendersky's website ATOM Feed"/>

</head>
<body>

<div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="../../../index.html" class="navbar-brand">
                <img src="../../../images/logosmall.png" width="32" height="32"/>
Eli Bendersky's website            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="../../../pages/about.html">
                        <i class="fa fa-question"></i>
                        <span class="icon-label">About</span>
                    </a>
                </li>
                <li>
                    <a href="../../../pages/projects.html">
                        <i class="fa fa-github"></i>
                        <span class="icon-label">Projects</span>
                    </a>
                </li>
                <li>
                    <a href="../../../archives/all.html">
                        <i class="fa fa-th-list"></i>
                        <span class="icon-label">Archives</span>
                    </a>
                </li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->

<div class="container">
    <div class="row">
    <section id="content">
        <article>
            <header class="page-header">
                <h1>
                    <a href="sloppy-code-sourceforge-cvs-memory-manager.html"
                       rel="bookmark"
                       title="Permalink to sloppy code, SourceForge CVS, memory manager">
                        sloppy code, SourceForge CVS, memory manager
                    </a>
                </h1>
            </header>
            <div class="entry-content">
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
    <span class="published">
        <i class="fa fa-calendar"></i>
        <time> February 07, 2006 at 15:27</time>
    </span>
<span class="label label-default">Tags</span>
    <a href="../../../tag/programming.html">Programming</a>
        ,
    <a href="../../../tag/version-control.html">Version control</a>
</footer><!-- /.post-info -->                    </div>
                </div>
                
        <p>Some random stuff:</p>
<p><b>Sloppy code</b></p>
<p>I hate code that looks sloppy. My code is always tidy, consistently idented, with consistent white-spacing. As everyone, I have my style and like other styles less (i.e. braces), but what bugs me much more is inconsistent and sloppy code, no matter which style is used. People sometimes don't pay too much attention to this, so sometimes they have spaces around parents, sometimes they don't, sometimes they write foo=bar, sometimes foo = bar and sometimes foo =bar. Ugh.</p>
<p>One of my subordinates writes code using a completely different style than I do, but that is at least consistent, so it's possible for me to look at. Another writes in some mish-mash of styles, completely inconsistent and hard to understand. And during code reviews I don't want to be too much of a pedant making a comment about every whitespace and inconsistently placed punctuation.</p>
<p><b>SourceForge project CVS access</b></p>
<p>What I started back then, I finished yesterday. I finally found the time to upload my ESMS project to SourceForge including CVS. I configured TortoiseCVS to work via SSH on my home PC, and it all ticks nicely. At least at first sight, TortoiseCVS is a very nice tool which seems to be easy to use, integrating well with the Windows Explorer.</p>
<p><b>Memory manager</b></p>
<p>Today I did something I'm quite proud of. I'm working on an embedded project, coding in C for the Nios II FPGA-embedded processor by Altera. In embedded projects one has to be very careful with the heap and dynamic memory allocation. What happens if it fails for some reason ? So the memory the program will need throughout its lifetime must be carefully calculated. Moreover, the heap and the stack reside in the same segment and there's no guarantee that the heap won't just overrun the stack (or vice versa) in cases of extreme memory shortage (and coding "bare", without an OS, this can lead to some spectacularly nasty bugs).</p>
<p>To make life simpler, I adapted an implementation of a memory manager (replacement for malloc() and free()) from K&R; 2 to use a fixed size static buffer as a pool (instead of calling sbrk()). After some testing, I think it now works well. So now instead of worrying that a runaway heap will run over the stack, I can happily contain it to a pre-allocated static buffer, where it will peacefully live. Moreover, I'll be able to reliably test an out-of-memory condition, without any disasters.
</p>

    
            </div>
            <!-- /.entry-content -->
<hr/>
<div class="dotted-links">
<p class="align-center">
For comments, please send me
<a href="mailto:eliben@gmail.com"><i class="fa fa-envelope-o"></i> an email</a>.
</p>
</div>        </article>
    </section>

    </div>
</div>
<footer>
   <div class="container">
      <hr>
      <div class="row">
         <div class="col-xs-10">
            &copy; 2003-2025 Eli Bendersky
         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="http://code.jquery.com/jquery-2.2.4.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="../../../theme/js/bootstrap.min.js"></script>

<!--
  Using goatcounter to count visitors. The count.js script is vendored in.
-->
<script data-goatcounter="https://stats.thegreenplace.net/count"
        async src="../../../theme/js/count.js"></script>
</body>

<!-- Mirrored from eli.thegreenplace.net/2006/02/07/sloppy-code-sourceforge-cvs-memory-manager by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 17 Feb 2025 00:18:54 GMT -->
</html>