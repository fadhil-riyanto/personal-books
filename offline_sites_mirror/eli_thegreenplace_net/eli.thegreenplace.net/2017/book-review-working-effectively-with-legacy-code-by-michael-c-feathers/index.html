<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:og="http://ogp.me/ns#"
      xmlns:fb="https://www.facebook.com/2008/fbml">

<!-- Mirrored from eli.thegreenplace.net/2017/book-review-working-effectively-with-legacy-code-by-michael-c-feathers/ by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 16 Feb 2025 23:58:58 GMT -->
<head>
    <title>Book review: "Working Effectively with Legacy Code" by Michael C. Feathers - Eli Bendersky's website</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="../../favicon.ico" rel="icon">

    <!-- Bootstrap -->
        <link rel="stylesheet" href="../../theme/css/bootstrap.min.css" type="text/css"/>
    <link href="../../theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="../../theme/css/pygments/vs.css" rel="stylesheet">
    <link rel="stylesheet" href="../../theme/css/style.css" type="text/css"/>

        <link href="../../feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
              title="Eli Bendersky's website ATOM Feed"/>

</head>
<body>

<div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="../../index.html" class="navbar-brand">
                <img src="../../images/logosmall.png" width="32" height="32"/>
Eli Bendersky's website            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="../../pages/about.html">
                        <i class="fa fa-question"></i>
                        <span class="icon-label">About</span>
                    </a>
                </li>
                <li>
                    <a href="../../pages/projects.html">
                        <i class="fa fa-github"></i>
                        <span class="icon-label">Projects</span>
                    </a>
                </li>
                <li>
                    <a href="../../archives/all.html">
                        <i class="fa fa-th-list"></i>
                        <span class="icon-label">Archives</span>
                    </a>
                </li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->

<div class="container">
    <div class="row">
    <section id="content">
        <article>
            <header class="page-header">
                <h1>
                    <a href="index.html"
                       rel="bookmark"
                       title="Permalink to Book review: "Working Effectively with Legacy Code" by Michael C. Feathers">
                        Book review: &quot;Working Effectively with Legacy Code&quot; by Michael C. Feathers
                    </a>
                </h1>
            </header>
            <div class="entry-content">
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
    <span class="published">
        <i class="fa fa-calendar"></i>
        <time> July 20, 2017 at 21:00</time>
    </span>
<span class="label label-default">Tags</span>
    <a href="../../tag/book-reviews.html">Book reviews</a>
        ,
    <a href="../../tag/programming.html">Programming</a>
</footer><!-- /.post-info -->                    </div>
                </div>
                <p>This book comes highly recommended in programmer circles, but for some reason it
took me a long while to finally get to read it. This colors my impression of it
somewhat, because it's been many years since I had to deal with the
kind of projects and code this book describes.</p>
<p>Have <em>you</em> ever had to deal with <em>real</em> legacy code? What do I mean by <em>real</em>?
OK, let's recap. Real legacy code is frequently called &quot;spaghetti code&quot;; another
common nickname is the <a class="reference external" href="https://en.wikipedia.org/wiki/Big_ball_of_mud">big ball of mud</a> pattern. It's code that lacks
sensible structure and - worst of all - lacks tests. Classes may have had some
single responsibility a long time ago, but they no longer do. Years of
maintenance and under-pressure bug fixes left them leaking abstractions left and
right, sending ugly dependency tentacles into each other. Touch one character
and the whole house of cards may fall down on you. Unit tests are unheard of.</p>
<p>To be honest, having spent the last few years at Google I've been spoiled. I
almost forgot how such projects look. &quot;Luckily&quot; I still remember, however, which
makes this book an interesting and poignant read. If the above strikes no chord
for you - I suggest to skip it. The book will just seem horrible to you -
proposing all kinds of ungodly hacks to break up dependencies in code and make
it refactorable and testable. The hacks are a good match to the foe - they're
about as awful as the code itself, so young and innocent developers may find
themselves (rightfully) horrified. It's only the unhealed scars of old battles
that will make this book palatable.</p>
<p>The basic premise of the book is simple, and can be summarized as follows:</p>
<ol class="arabic simple">
<li>To improve some piece of code, we must be able to refactor it.</li>
<li>To be able to refactor code, we must have tests that prove our refactoring
didn't break anything.</li>
<li>To have reasonable tests, the code has to be <em>testable</em>; that is, it should
be in a form amenable to test harnessing. This most often means breaking
implicit dependencies.</li>
</ol>
<p>... and the author spends about 400 pages on how to achieve that. This book is
dense, and it took me a <em>long</em> time to plow through it. I started reading
linerarly, but very soon discovered this approach doesn't work. So I began
hopping forward and backward between the main text and the &quot;dependency-breaking
techniques&quot; chapter which holds isolated recipes for dealing with specific kinds
of dependencies. There's quite a bit of repetition in the book, which makes it
even more tedious to read.</p>
<p>The techniques described by the author are as terrible as the code they're up
against. Horrible abuses of the preprocessor in C/C++, abuses of inheritance in
C++ and Java, and so on. Particularly the latter is quite sobering. If you love
OOP beware - this book may leave you disenchanted, if not full of hate.</p>
<p>To reiterate the conclusion I already presented earlier - get this book if you
have to work with old balls of mud; it will be effort well spent. Otherwise,
if you're working on one of those new-age continuously integrated codebases with
a 2/1 test to code ratio, feel free to skip it.</p>

            </div>
            <!-- /.entry-content -->
<hr/>
<div class="dotted-links">
<p class="align-center">
For comments, please send me
<a href="mailto:eliben@gmail.com"><i class="fa fa-envelope-o"></i> an email</a>.
</p>
</div>        </article>
    </section>

    </div>
</div>
<footer>
   <div class="container">
      <hr>
      <div class="row">
         <div class="col-xs-10">
            &copy; 2003-2025 Eli Bendersky
         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="http://code.jquery.com/jquery-2.2.4.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="../../theme/js/bootstrap.min.js"></script>

<!--
  Using goatcounter to count visitors. The count.js script is vendored in.
-->
<script data-goatcounter="https://stats.thegreenplace.net/count"
        async src="../../theme/js/count.js"></script>
</body>

<!-- Mirrored from eli.thegreenplace.net/2017/book-review-working-effectively-with-legacy-code-by-michael-c-feathers/ by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 16 Feb 2025 23:58:58 GMT -->
</html>