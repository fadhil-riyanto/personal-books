//: version "1.6i"

module JK_2(C, _RESET, K, _Q, Q, J);
//: interface  /sz:(68, 81) /bd:[ Li0>J(8/81) Li1>K(67/81) Li2>C(37/81) Bi0>_RESET(35/68) Ro0<_Q(67/81) Ro1<Q(8/81) ]
input _RESET;    //: /sn:0 {0}(242,79)(242,132){1}
output Q;    //: /sn:0 /dp:3 {0}(133,173)(116,173)(116,218)(273,218)(273,159){1}
//: {2}(275,157)(327,157){3}
//: {4}(273,155)(273,143)(263,143){5}
input K;    //: /sn:0 {0}(95,178)(133,178){1}
output _Q;    //: /sn:0 /dp:3 {0}(263,153)(282,153)(282,121){1}
//: {2}(284,119)(326,119){3}
//: {4}(282,117)(282,108)(112,108)(112,124)(132,124){5}
input J;    //: /sn:0 {0}(95,119)(132,119){1}
supply0 w1;    //: /sn:0 {0}(222,130)(222,124)(252,124)(252,132){1}
input C;    //: /sn:0 {0}(96,239)(247,239)(247,164){1}
wire w6;    //: /sn:0 /dp:1 {0}(185,145)(176,145)(176,122)(153,122){1}
wire w14;    //: /sn:0 {0}(154,176)(176,176)(176,150)(185,150){1}
wire w8;    //: /sn:0 {0}(206,148)(231,148){1}
//: enddecls

  //: input g4 (C) @(94,239) /sn:0 /anc:1 /w:[ 0 ]
  //: joint g8 (_Q) @(282, 119) /w:[ 2 4 -1 1 ]
  //: supply0 g13 (w1) @(222,136) /sn:0 /anc:1 /w:[ 0 ]
  and g3 (.I0(Q), .I1(!K), .Z(w14));   //: @(144,176) /sn:0 /anc:1 /delay:" 1" /w:[ 0 1 0 ]
  and g2 (.I0(J), .I1(_Q), .Z(w6));   //: @(143,122) /sn:0 /anc:1 /delay:" 1" /w:[ 1 5 1 ]
  or g1 (.I0(w6), .I1(w14), .Z(w8));   //: @(196,148) /sn:0 /anc:1 /delay:" 1" /w:[ 0 1 0 ]
  //: input g11 (_RESET) @(242,77) /sn:0 /R:3 /anc:1 /w:[ 0 ]
  //: joint g10 (Q) @(273, 157) /w:[ 2 4 -1 1 ]
  //: input g6 (K) @(93,178) /sn:0 /anc:1 /w:[ 0 ]
  //: output g7 (_Q) @(323,119) /sn:0 /anc:1 /w:[ 3 ]
  //: output g9 (Q) @(324,157) /sn:0 /anc:1 /w:[ 3 ]
  //: frame g14 @(106,87) /sn:0 /wi:205 /ht:169 /tx:""
  //: input g5 (J) @(93,119) /sn:0 /anc:1 /w:[ 0 ]
  ff g0 (.Q(Q), ._Q(_Q), .D(w8), .EN(w1), .CLR(_RESET), .CK(!C));   //: @(247,148) /sn:0 /anc:1 /w:[ 5 0 1 1 1 1 ]
  //: comment g12 /dolink:0 /link:"" @(104,276) /sn:0
  //: /line:"	D = (J and not Q) or (not K and Q)"
  //: /end

endmodule

module JK(C, _RESET, K, Q, _Q, J);
//: interface  /sz:(68, 81) /bd:[ Li0>C(37/81) Li1>K(67/81) Li2>J(8/81) Bi0>_RESET(35/68) Ro0<Q(8/81) Ro1<_Q(67/81) ]
input _RESET;    //: /sn:0 {0}(242,79)(242,132){1}
output Q;    //: /sn:0 /dp:3 {0}(133,173)(122,173)(122,162)(164,162)(164,205)(273,205)(273,159){1}
//: {2}(275,157)(327,157){3}
//: {4}(273,155)(273,143)(263,143){5}
input K;    //: /sn:0 {0}(87,178)(103,178){1}
//: {2}(107,178)(133,178){3}
//: {4}(105,176)(105,150)(133,150){5}
output _Q;    //: /sn:0 /dp:3 {0}(132,124)(113,124)(113,99)(282,99)(282,117){1}
//: {2}(284,119)(326,119){3}
//: {4}(282,121)(282,153)(263,153){5}
input J;    //: /sn:0 /dp:1 {0}(133,145)(105,145)(105,121){1}
//: {2}(107,119)(131,119)(131,119)(132,119){3}
//: {4}(103,119)(85,119){5}
supply0 w1;    //: /sn:0 {0}(222,130)(222,124)(252,124)(252,132){1}
input C;    //: /sn:0 /dp:1 {0}(131,223)(86,223){1}
wire w6;    //: /sn:0 /dp:1 {0}(185,143)(176,143)(176,122)(153,122){1}
wire w0;    //: /sn:0 {0}(185,153)(177,153)(177,176)(154,176){1}
wire w3;    //: /sn:0 {0}(147,223)(247,223)(247,164){1}
wire w8;    //: /sn:0 {0}(206,148)(231,148){1}
wire w5;    //: /sn:0 {0}(154,148)(185,148){1}
//: enddecls

  //: joint g8 (_Q) @(282, 119) /w:[ 2 1 -1 4 ]
  //: input g4 (C) @(84,223) /sn:0 /w:[ 1 ]
  and g3 (.I0(Q), .I1(!K), .Z(w0));   //: @(144,176) /sn:0 /anc:1 /tech:unit /w:[ 0 3 1 ]
  //: supply0 g13 (w1) @(222,136) /sn:0 /anc:1 /w:[ 0 ]
  and g2 (.I0(J), .I1(_Q), .Z(w6));   //: @(143,122) /sn:0 /anc:1 /delay:" 1" /w:[ 3 0 1 ]
  or g1 (.I0(w6), .I1(w5), .I2(w0), .Z(w8));   //: @(196,148) /sn:0 /anc:1 /tech:unit /w:[ 0 1 0 0 ]
  //: input g11 (_RESET) @(242,77) /sn:0 /R:3 /anc:1 /w:[ 0 ]
  //: frame g16 @(99,90) /sn:0 /wi:191 /ht:150 /tx:""
  //: joint g10 (Q) @(273, 157) /w:[ 2 4 -1 1 ]
  //: input g6 (K) @(85,178) /sn:0 /w:[ 0 ]
  //: output g9 (Q) @(324,157) /sn:0 /anc:1 /w:[ 3 ]
  //: output g7 (_Q) @(323,119) /sn:0 /anc:1 /w:[ 3 ]
  and g15 (.I0(J), .I1(!K), .Z(w5));   //: @(144,148) /sn:0 /tech:unit /w:[ 0 5 0 ]
  not g17 (.I(C), .Z(w3));   //: @(137,223) /sn:0 /w:[ 0 0 ]
  //: input g5 (J) @(83,119) /sn:0 /w:[ 5 ]
  //: joint g14 (J) @(105, 119) /w:[ 2 -1 4 1 ]
  ff g0 (.Q(Q), ._Q(_Q), .D(w8), .EN(w1), .CLR(_RESET), .CK(w3));   //: @(247,148) /sn:0 /anc:1 /tech:unit /w:[ 5 5 1 1 1 1 ]
  //: comment g12 /dolink:0 /link:"" @(35,-3) /sn:0
  //: /line:"JK-type flip-flop build on D-type flip-flop"
  //: /line:""
  //: /line:"D = (J and not Q) or (not K and Q) + (J and not K)"
  //: /end
  //: joint g18 (K) @(105, 178) /w:[ 2 4 1 -1 ]

endmodule

module T(Q, T, _Q, C, _RESET);
//: interface  /sz:(70, 82) /bd:[ Li0>T(11/82) Li1>C(38/82) Bi0>_RESET(36/70) Ro0<Q(11/82) Ro1<_Q(69/82) ]
input _RESET;    //: /sn:0 {0}(332,141)(332,182){1}
supply0 w0;    //: /sn:0 /dp:1 {0}(342,182)(342,172)(313,172)(313,182){1}
output Q;    //: /sn:0 /dp:1 {0}(353,193)(372,193){1}
//: {2}(374,191)(374,177)(416,177){3}
//: {4}(374,195)(374,244)(258,244)(258,200)(268,200){5}
output _Q;    //: /sn:0 {0}(417,203)(353,203){1}
input T;    //: /sn:0 {0}(222,181)(258,181)(258,195)(268,195){1}
input C;    //: /sn:0 {0}(222,261)(337,261)(337,214){1}
wire w8;    //: /sn:0 {0}(289,198)(321,198){1}
//: enddecls

  //: supply0 g8 (w0) @(313,188) /sn:0 /anc:1 /w:[ 1 ]
  //: output g4 (Q) @(413,177) /sn:0 /anc:1 /w:[ 3 ]
  xor g3 (.I0(T), .I1(Q), .Z(w8));   //: @(279,198) /sn:0 /anc:1 /delay:" 1" /w:[ 1 5 0 ]
  //: input g2 (T) @(220,181) /sn:0 /anc:1 /w:[ 0 ]
  ff g1 (.Q(Q), ._Q(_Q), .D(w8), .EN(w0), .CLR(_RESET), .CK(C));   //: @(337,198) /sn:0 /anc:1 /delay:" 1 1 1" /w:[ 0 1 1 0 1 1 ]
  //: frame g10 @(237,159) /sn:0 /wi:161 /ht:109 /tx:""
  //: output g6 (_Q) @(414,203) /sn:0 /anc:1 /w:[ 0 ]
  //: input g9 (C) @(220,261) /sn:0 /anc:1 /w:[ 0 ]
  //: input g7 (_RESET) @(332,139) /sn:0 /R:3 /anc:1 /w:[ 0 ]
  //: joint g5 (Q) @(374, 193) /w:[ -1 2 1 4 ]
  //: comment g0 /dolink:0 /link:"" @(240,89) /sn:0 /R:1
  //: /line:"T = (not Q and T) or (not T and Q) = T xor Q"
  //: /end

endmodule

module mod2(C, _RESET, _Q, Q);
//: interface  /sz:(66, 78) /bd:[ Li0>C(40/78) Bi0>_RESET(35/66) Ro0<_Q(60/78) Ro1<Q(16/78) ]
input _RESET;    //: /sn:0 {0}(242,79)(242,132){1}
output Q;    //: /sn:0 {0}(263,143)(327,143){1}
output _Q;    //: /sn:0 {0}(326,164)(296,164){1}
//: {2}(294,162)(294,153)(263,153){3}
//: {4}(294,166)(294,193)(204,193)(204,148)(231,148){5}
supply0 w1;    //: /sn:0 {0}(222,130)(222,124)(252,124)(252,132){1}
input C;    //: /sn:0 {0}(139,174)(247,174)(247,164){1}
//: enddecls

  //: input g4 (C) @(137,174) /sn:0 /w:[ 0 ]
  //: supply0 g13 (w1) @(222,136) /sn:0 /w:[ 0 ]
  //: frame g2 @(192,118) /sn:0 /wi:115 /ht:82 /tx:""
  //: joint g1 (_Q) @(294, 164) /w:[ 1 2 -1 4 ]
  //: input g11 (_RESET) @(242,77) /sn:0 /R:3 /w:[ 0 ]
  //: output g7 (_Q) @(323,164) /sn:0 /w:[ 0 ]
  //: output g9 (Q) @(324,143) /sn:0 /w:[ 1 ]
  ff g0 (.Q(Q), ._Q(_Q), .D(_Q), .EN(w1), .CLR(_RESET), .CK(!C));   //: @(247,148) /sn:0 /tech:unit /w:[ 0 3 5 1 1 1 ]
  //: comment g12 /dolink:0 /link:"" @(108,32) /sn:0
  //: /line:"JK flip-flop with asserted ones at J and K."
  //: /end

endmodule

module main;    //: root_module
wire w6;    //: /sn:0 {0}(259,135)(249,135){1}
wire w7;    //: /sn:0 {0}(259,165)(249,165){1}
wire w16;    //: /sn:0 {0}(329,165)(339,165){1}
wire w14;    //: /sn:0 {0}(295,180)(295,190){1}
wire w19;    //: /sn:0 {0}(137,134)(127,134){1}
wire w15;    //: /sn:0 {0}(329,106)(339,106){1}
wire w3;    //: /sn:0 {0}(204,240)(214,240){1}
wire w0;    //: /sn:0 {0}(136,264)(126,264){1}
wire w21;    //: /sn:0 {0}(207,164)(217,164){1}
wire w20;    //: /sn:0 {0}(173,179)(173,189){1}
wire w1;    //: /sn:0 {0}(172,303)(172,313){1}
wire w18;    //: /sn:0 {0}(137,164)(127,164){1}
wire w8;    //: /sn:0 {0}(425,190)(425,180){1}
wire w22;    //: /sn:0 {0}(207,105)(217,105){1}
wire w17;    //: /sn:0 {0}(137,105)(127,105){1}
wire w2;    //: /sn:0 {0}(204,284)(214,284){1}
wire w12;    //: /sn:0 {0}(470,166)(460,166){1}
wire w11;    //: /sn:0 {0}(470,108)(460,108){1}
wire w10;    //: /sn:0 {0}(378,135)(388,135){1}
wire w13;    //: /sn:0 {0}(259,106)(249,106){1}
wire w9;    //: /sn:0 {0}(378,108)(388,108){1}
//: enddecls

  //: comment g4 /dolink:0 /link:"" @(242,208) /sn:0
  //: /line:"flip-flops"
  //: /line:"JK   - standard JK flip-flop"
  //: /line:"JK_2 - modification of above one (probably faster)"
  //: /line:"T    - standard T flip-flop"
  //: /line:"mod2 - JK flip-flop with J=1, K=1 (faster then JK and JK_2)"
  //: /end
  JK_2 g3 (.C(w19), .K(w18), .J(w17), ._RESET(w20), .Q(w22), ._Q(w21));   //: @(138, 97) /sz:(68, 81) /sn:0 /anc:1 /p:[ Li0>0 Li1>0 Li2>0 Bi0>0 Ro0<0 Ro1<0 ]
  JK g2 (.J(w13), .K(w7), .C(w6), ._RESET(w14), ._Q(w16), .Q(w15));   //: @(260, 98) /sz:(68, 81) /sn:0 /anc:1 /p:[ Li0>0 Li1>0 Li2>0 Bi0>0 Ro0<0 Ro1<0 ]
  T g1 (.C(w10), .T(w9), ._RESET(w8), ._Q(w12), .Q(w11));   //: @(389, 97) /sz:(70, 82) /sn:0 /anc:1 /p:[ Li0>1 Li1>1 Bi0>1 Ro0<1 Ro1<1 ]
  //: comment g5 /dolink:0 /link:"" @(241,295) /sn:0
  //: /line:"Wojciech Mula"
  //: /line:"wojciech_mula@poczta.onet.pl"
  //: /line:"23.11.2003"
  //: /line:""
  //: /end
  mod2 g0 (.C(w0), ._RESET(w1), .Q(w3), ._Q(w2));   //: @(137, 224) /sz:(66, 78) /sn:0 /anc:1 /p:[ Li0>0 Bi0>0 Ro0<0 Ro1<0 ]

endmodule
